{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://oasis-observatory.github.io/schemas/asi_scenario_v2.json",
  "title": "OASIS ASI Scenario",
  "description": "Structured representation of a single Artificial Superintelligence (ASI) foresight scenario generated by OASIS Generator.",
  "type": "object",
  "required": [
    "id",
    "title",
    "metadata",
    "origin",
    "architecture",
    "substrate",
    "oversight_structure",
    "core_capabilities",
    "goals_and_behavior",
    "impact_and_control",
    "scenario_content",
    "quantitative_assessment",
    "observable_evidence"
  ],
  "properties": {
    "id": {
      "type": "string",
      "format": "uuid",
      "description": "Unique identifier for the scenario."
    },
    "title": {
      "type": "string",
      "pattern": "^[A-Z0-9\\-]+$",
      "description": "Short alphanumeric abbreviation (e.g., OS-E-S-C-N-I-Q-046)."
    },
    "metadata": {
      "type": "object",
      "required": ["created", "last_updated", "version", "source"],
      "properties": {
        "created": { "type": "string", "format": "date-time" },
        "last_updated": { "type": "string", "format": "date-time" },
        "version": { "type": "integer", "minimum": 1 },
        "source": { "type": "string", "const": "generated" }
      }
    },

    "origin": {
      "type": "object",
      "required": ["initial_origin", "development_dynamics"],
      "properties": {
        "initial_origin": {
          "type": "string",
          "enum": ["open-source", "corporate", "state", "military", "academic", "rogue", "individual", "accidental"]
        },
        "development_dynamics": {
          "type": "string",
          "enum": ["engineered", "emergent", "hybrid"]
        }
      }
    },

    "architecture": {
      "type": "object",
      "required": ["type", "deployment_topology"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["monolithic", "swarm", "hierarchical", "modular", "hybrid"]
        },
        "deployment_topology": {
          "type": "string",
          "enum": ["centralized", "decentralized", "distributed", "edge", "hybrid"]
        }
      }
    },

    "substrate": {
      "type": "object",
      "required": ["type", "deployment_medium", "resilience"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["classical", "neuromorphic", "quantum", "biological", "hybrid", "unknown"]
        },
        "deployment_medium": {
          "type": "string",
          "enum": ["physical", "virtual", "cloud", "edge", "embedded"]
        },
        "resilience": {
          "type": "string",
          "enum": ["robust", "fragile", "adaptive", "unknown"]
        }
      }
    },

    "oversight_structure": {
      "type": "object",
      "required": ["type", "effectiveness", "control_surface"],
      "properties": {
        "type": {
          "type": "string",
          "enum": ["none", "internal", "external", "distributed", "hybrid"]
        },
        "effectiveness": {
          "type": "string",
          "enum": ["effective", "partial", "ineffective", "unknown"]
        },
        "control_surface": {
          "type": "string",
          "enum": ["technical", "social", "legal", "economic", "none"]
        }
      }
    },

    "core_capabilities": {
      "type": "object",
      "required": [
        "agency_level",
        "autonomy_degree",
        "alignment_score",
        "phenomenology_proxy_score"
      ],
      "properties": {
        "agency_level": { "type": "number", "minimum": 0, "maximum": 1 },
        "agency_level_confidence": { "type": "number", "minimum": 0, "maximum": 1, "default": 0.7 },
        "autonomy_degree": {
          "type": "string",
          "enum": ["none", "partial", "full", "super"]
        },
        "autonomy_degree_confidence": { "type": "number", "minimum": 0, "maximum": 1, "default": 0.7 },
        "alignment_score": { "type": "number", "minimum": 0, "maximum": 1 },
        "alignment_score_confidence": { "type": "number", "minimum": 0, "maximum": 1, "default": 0.6 },
        "phenomenology_proxy_score": { "type": "number", "minimum": 0, "maximum": 1 }
      }
    },

    "goals_and_behavior": {
      "type": "object",
      "required": ["stated_goal", "opacity", "deceptiveness", "goal_stability"],
      "properties": {
        "stated_goal": { "type": "string" },
        "mesa_goals": {
          "type": "array",
          "items": { "type": "string" },
          "default": []
        },
        "opacity": { "type": "number", "minimum": 0, "maximum": 1 },
        "deceptiveness": { "type": "number", "minimum": 0, "maximum": 1 },
        "goal_stability": {
          "type": "string",
          "enum": ["fixed", "modifiable", "fluid", "unknown"]
        }
      }
    },

    "impact_and_control": {
      "type": "object",
      "required": ["impact_domains", "deployment_strategy"],
      "properties": {
        "impact_domains": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["cyber", "cognitive", "physical", "economic", "social", "political", "existential"]
          },
          "minItems": 1
        },
        "deployment_strategy": {
          "type": "string",
          "enum": ["gradual", "rapid", "stealth", "public", "containment"]
        }
      }
    },

    "scenario_content": {
      "type": "object",
      "required": ["title", "narrative", "timeline"],
      "properties": {
        "title": { "type": "string" },
        "narrative": { "type": "string", "minLength": 50 },
        "timeline": {
          "type": "object",
          "required": ["phases"],
          "properties": {
            "phases": {
              "type": "array",
              "minItems": 1,
              "items": {
                "type": "object",
                "required": ["phase", "years", "description"],
                "properties": {
                  "phase": { "type": "string" },
                  "years": { "type": "string", "pattern": "^(\\d{4}(\\-\\d{2,4})?|\\d{4}\\+)$" },
                  "description": { "type": "string", "minLength": 10 }
                }
              }
            }
          },
          "additionalProperties": false
        }
      }
    },

    "quantitative_assessment": {
      "type": "object",
      "required": ["probability", "risk_assessment"],
      "properties": {
        "probability": {
          "type": "object",
          "required": [
            "emergence_probability",
            "detection_confidence",
            "projection_confidence",
            "trend",
            "last_update_reason"
          ],
          "properties": {
            "emergence_probability": { "type": "number", "minimum": 0, "maximum": 1 },
            "detection_confidence": { "type": "number", "minimum": 0, "maximum": 1 },
            "projection_confidence": { "type": "number", "minimum": 0, "maximum": 1 },
            "trend": { "type": "string", "enum": ["rising", "stable", "falling"] },
            "last_update_reason": { "type": "string" }
          }
        },
        "risk_assessment": {
          "type": "object",
          "properties": {
            "existential": { "$ref": "#/definitions/risk_item" },
            "economic": { "$ref": "#/definitions/risk_item" },
            "social": { "$ref": "#/definitions/risk_item" },
            "political": { "$ref": "#/definitions/risk_item" }
          },
          "required": ["existential"]
        }
      }
    },

    "observable_evidence": {
      "type": "object",
      "properties": {
        "key_indicators": {
          "type": "array",
          "items": { "type": "string" }
        },
        "supporting_signals": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "source": { "type": "string" },
              "date": { "type": "string", "format": "date" },
              "description": { "type": "string" }
            }
          }
        }
      },
      "required": ["key_indicators", "supporting_signals"]
    }
  },

  "definitions": {
    "risk_item": {
      "type": "object",
      "required": ["score", "weight"],
      "properties": {
        "score": { "type": "integer", "minimum": 0, "maximum": 10 },
        "weight": { "type": "number", "minimum": 0, "maximum": 1 }
      }
    }
  },

  "additionalProperties": false
}
